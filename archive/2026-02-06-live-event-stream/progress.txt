# Ralph Progress Log
Started: Thu Feb  6 13:30:00 MST 2026

## Codebase Patterns
- Use `IF NOT EXISTS` for all CREATE TABLE and CREATE INDEX statements in migrations
- sql-migrate uses `-- +migrate Up` and `-- +migrate Down` comment markers
- Source .env before running sql-migrate: `set -a && source .env && set +a && sql-migrate up`
- sqlc config at sqlc.yaml uses pgx/v5 driver with custom type overrides for timestamptz and nullable text
- Build with `go build ./...` to verify no compilation errors
- Use `sqlc.arg(name)` for named parameters in sqlc queries to get clean Go struct field names
- Go 1.22+ method routing: use `"POST /events"` pattern in ServeMux for method-restricted routes
- API routes register under `/events` (not `/api/events`) — the `/api` prefix is stripped by AddApis()
- Use `pgtype.UUID{Valid: false}` for nullable UUID columns (SQL NULL); `json.RawMessage` for JSONB round-tripping
- Path parameters: `"GET /events/{id}"` route pattern + `r.PathValue("id")` to extract
- SimplePage requires two params: `SimplePage(title, currentPath)` — currentPath enables active sidebar highlighting
- Templ generate: `go tool templ generate -f <file>` for specific files; `go build ./...` after to verify
- HTMX partial rendering: extract content into a separate templ component, use hx-target/hx-swap to replace just that section
- DaisyUI modal: `<dialog class="modal">` with `.showModal()`/`.close()`, `<form method="dialog">` for cancel button
- Templ `script` keyword for type-safe JS functions callable from `onclick={ funcName(args) }`
- HTMX edit pattern: use `hx-put` for updates, `hx-delete` for deletes, `hx-post` for creates; all target a shared content div
- Package shadowing workaround: when `app` parameter shadows `app` package, use package-level helpers with `a` parameter name
---
